

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Public Code Repositories - Jon Rothbaum / Personal Website</title>










  <link rel="canonical" href="https://jrothbaum.github.io//code.html">





  

  






  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Jon Rothbaum",
      "url" : "https://jrothbaum.github.io/",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->

<!-- Open Graph protocol data (https://ogp.me/), used by social media -->
<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Jon Rothbaum / Personal Website"> 
<meta property="og:title" content="Public Code Repositories">



  <meta property="og:url" content="https://jrothbaum.github.io//code.html">





<!-- end Open Graph protocol -->

<link href="https://jrothbaum.github.io//feed.xml" type="application/atom+xml" rel="alternate" title="Jon Rothbaum / Personal Website Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://jrothbaum.github.io//assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<!-- Support for Academicons -->
<link rel="stylesheet" href="https://jrothbaum.github.io//assets/css/academicons.css"/>

<!-- favicon from https://commons.wikimedia.org/wiki/File:OOjs_UI_icon_academic-progressive.svg -->
<link rel="apple-touch-icon" sizes="180x180" href="https://jrothbaum.github.io//images/apple-touch-icon-180x180.png"/>
<link rel="icon" type="image/svg+xml" href="https://jrothbaum.github.io//images/favicon.svg"/>
<link rel="icon" type="image/png" href="https://jrothbaum.github.io//images/favicon-32x32.png" sizes="32x32"/>
<link rel="icon" type="image/png" href="https://jrothbaum.github.io//images/favicon-192x192.png" sizes="192x192"/>
<link rel="manifest" href="https://jrothbaum.github.io//images/manifest.json"/>
<link rel="icon" href="/images/favicon.ico"/>
<meta name="theme-color" content="#ffffff"/>

<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg persist"><a href="https://jrothbaum.github.io//">Jon Rothbaum / Personal Website</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://jrothbaum.github.io//">About Me</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://jrothbaum.github.io//files/cv_2025.pdf">CV</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://jrothbaum.github.io//news.html">NEWS Project</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://jrothbaum.github.io//code.html">Code</a></li>
          
          <li id="theme-toggle" class="masthead__menu-item persist tail">
            <a role="button" aria-labelledby="theme-icon"><i id="theme-icon" class="fa-solid fa-sun" aria-hidden="true" title="toggle theme"></i></a>
          </li>
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="https://jrothbaum.github.io//images/jonathan-rothbaum.jpg" class="author__avatar" alt="Jon Rothbaum"  fetchpriority="high" />
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Jon Rothbaum</h3>
    
    <p class="author__bio">Economist</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      <!-- Font Awesome icons / Biographic information  -->
      
        <li class="author__desktop"><i class="fas fa-fw fa-location-dot icon-pad-right" aria-hidden="true"></i>Washington, DC</li>
      
      
        <li class="author__desktop"><i class="fas fa-fw fa-building-columns icon-pad-right" aria-hidden="true"></i>U.S. Census Bureau</li>
      
      
      
        <li><a href="mailto:jonathan.l.rothbaum@census.gov"><i class="fas fa-fw fa-envelope icon-pad-right" aria-hidden="true"></i>Email</a></li>
      

      <!-- Font Awesome and Academicons icons / Academic websites -->
      
            
      
        <li><a href="https://scholar.google.com/citations?user=9GFkhygAAAAJ&hl=en"><i class="ai ai-google-scholar ai-fw icon-pad-right"></i>Google Scholar</a></li>
      
      
      
      
                              
      
      

      <!-- Font Awesome icons / Repositories and software development -->
      
            
            
      
        <li><a href="https://github.com/jrothbaum"><i class="fab fa-fw fa-github icon-pad-right" aria-hidden="true"></i>GitHub</a></li>
      
            
            

      <!-- Font Awesome icons / Social media -->
              
      
        <li><a href="https://bsky.app/profile/jlrothbaum.bsky.social"><i class="fab fa-fw fa-bluesky icon-pad-right" aria-hidden="true"></i>Bluesky</a></li>
      
      
            
      
                  
                  
      
            
            
            
      
            
                  
            
      
            
            
      
        <li><a href="https://twitter.com/jlrothbaum"><i class="fab fa-fw fa-x-twitter icon-pad-right" aria-hidden="true"></i>X (formerly Twitter)</a></li>
      
              
      
                      
      
      
            
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Public Code Repositories">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Public Code Repositories
</h1>
          
        
        
            
        </header>
      

      <section class="page__content" itemprop="text">
        <h2 id="io-tools">I/O Tools</h2>

<p>Working with data across programs can be a pain.  So I made a tool to load SAS data in  <a href="https://pola.rs/">Polars</a> and to use parquet files in Stata.</p>

<h3 id="polars-readstat"><a href="https://github.com/jrothbaum/polars_readstat">polars-readstat</a></h3>

<p>This is a Polars IO plugin to read SAS (sas7bdat), Stata (dta), and SPSS (sav) files.
It is generally as fast or faster than pandas and pyreadstat, particularly for SAS files and reading subsets of columns from files.</p>

<p>Available on <a href="https://pypi.org/project/polars-readstat/">PyPi</a>.</p>

<h3 id="pqstata-parquet-io"><a href="https://github.com/jrothbaum/stata_parquet_io/">pq/stata-parquet-io</a></h3>

<p>pq is a Stata package that enables reading and writing Parquet files directly in Stata. This plugin bridges the gap between Stata’s data analysis capabilities and the increasingly popular Parquet file format, which is optimized for storage and performance with large datasets.  This is slower than reading/writing a dta file in Stata (Stata is really good at that), but makes it easier to use Stata in multi-language workflows (using dta files is slow in R and Python).  It can be as fast as Stata when loading a small subset of columns from large files.</p>

<p>Available on <a href="https://ideas.repec.org/c/boc/bocode/s459458.html">SSC</a></p>

<h2 id="tools-for-missing-data-issues-coming-soon">Tools for missing data issues (Coming soon)</h2>
<p>I’ve been trying to take advantage of the extended shutdown of 2025 to make some tools available that mirror what I use on the <a href="/news.html">NEWS project</a> to address missing data issues that can bias estimates from survey AND administrative data.</p>

<p>These tools will include a super fast algorithm for calibration to reweight a dataset to make it representative (hat tip to Carl Sanders’s <a href="https://github.com/uscensusbureau/entropy-balance-weighting">entropy-balance-weighting</a> package).  Calibration can help address nonresponse bias in survey data (see <a href="https://www.census.gov/newsroom/blogs/research-matters/2025/09/administrative-data-nonresponse-bias-cps-asec.html">this blog</a>, <a href="https://www.census.gov/library/working-papers/2020/demo/SEHSD-WP2020-10.html">this paper on the CPS ASEC</a>, or <a href="https://www.census.gov/content/dam/Census/library/working-papers/2021/acs/2021_Rothbaum_01.pdf">this paper on the ACS</a>) and representativeness in administrative data.</p>

<p>The package will also include tools to use machine learning (<a href="https://lightgbm.readthedocs.io/en/stable/">LightGBM</a>) to impute for missing data.  This can be useful in addressing nonrandom nonresponse in <a href="https://academic.oup.com/jssam/article-abstract/10/1/81/5943180">survey data</a> and <a href="https://www.aeaweb.org/articles?id=10.1257/pandp.20221040">missing administrative data</a>.</p>

<p>It has tools for simpler imputation as well (hot deck/stat match, regression-based imputation, etc.) and to generate multiple imputation statistics with bootstrap or replicate weights and easily make comparisons.</p>

<p>The package uses <a href="https://narwhals-dev.github.io/narwhals/">Narwhals</a> to be (mostly) dataframe agnostic - which means you pass in a Pandas dataframe (or polars or duckdb, etc.) and that’s what you get back.  It does require polars and pyarrow, unfortunately, because there’s some logic that I couldn’t do in Narwhals.</p>

<p>When complete, I’ll push this python package to PyPi.</p>


        

        
      </section>

      <footer class="page__meta">
        
        




      </footer>

      

      


    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->


<!-- Support for MatJax -->
<script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script"></script>

<!-- Support for Plotly -->
<script defer src='https://cdnjs.cloudflare.com/ajax/libs/plotly.js/3.0.1/plotly.min.js'></script>

<!-- Support for Mermaid -->
<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.initialize({startOnLoad:true, theme:'default'});
    await mermaid.run({querySelector:'code.language-mermaid'});
</script>

<!-- end custom footer snippets -->

        


<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="http://github.com/jrothbaum"><i class="fab fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="https://jrothbaum.github.io//feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">
  &copy; 2025 Jon Rothbaum, Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.<br />
  Site last updated 2025-10-29
</div>

      </footer>
    </div>

    <script type="module" src="https://jrothbaum.github.io//assets/js/main.min.js"></script>








  </body>
</html>
